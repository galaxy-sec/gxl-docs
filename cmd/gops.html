<!DOCTYPE HTML>
<html lang="zh" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>gops - galaxy-sec operator ecosystem</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mermaid.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">galaxy-sec operator ecosystem</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="gops---galaxy-operations-system-系统操作管理工具"><a class="header" href="#gops---galaxy-operations-system-系统操作管理工具">gops - Galaxy Operations System 系统操作管理工具</a></h1>
<h2 id="概述"><a class="header" href="#概述">概述</a></h2>
<p><code>gops</code> 是 Galaxy Operations System 的核心命令行工具，用于管理系统配置、模块操作和系统设置。它提供了完整的系统管理功能，帮助开发者高效地管理 Galaxy 系统的各种组件和配置。</p>
<h2 id="基本用法"><a class="header" href="#基本用法">基本用法</a></h2>
<h3 id="显示版本信息"><a class="header" href="#显示版本信息">显示版本信息</a></h3>
<pre><code class="language-bash">gops
# 输出示例：gops: 0.12.0
</code></pre>
<h3 id="显示帮助信息"><a class="header" href="#显示帮助信息">显示帮助信息</a></h3>
<pre><code class="language-bash">gops --help
gops &lt;command&gt; --help
gops &lt;command&gt; &lt;subcommand&gt; --help
</code></pre>
<h2 id="命令结构"><a class="header" href="#命令结构">命令结构</a></h2>
<p><code>gops</code> 采用三层命令结构：</p>
<pre><code>gops [全局选项] &lt;主命令&gt; [子命令选项] &lt;子命令&gt;
</code></pre>
<h3 id="主命令"><a class="header" href="#主命令">主命令</a></h3>
<ol>
<li><strong><code>gops prj</code></strong> - 工程管理命令</li>
<li><strong><code>gops mod</code></strong> - 模块管理命令</li>
<li><strong><code>gops sys</code></strong> - 系统管理命令</li>
</ol>
<h2 id="全局选项"><a class="header" href="#全局选项">全局选项</a></h2>
<p>所有命令都支持以下全局选项：</p>
<h3 id="调试选项"><a class="header" href="#调试选项">调试选项</a></h3>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别（0-4）
<ul>
<li><code>0</code>: 关闭调试输出</li>
<li><code>1</code>: 基础调试信息</li>
<li><code>2</code>: 详细调试信息</li>
<li><code>3</code>: 跟踪调试信息</li>
<li><code>4</code>: 完整调试信息</li>
</ul>
</li>
</ul>
<h3 id="日志选项"><a class="header" href="#日志选项">日志选项</a></h3>
<ul>
<li><code>--log &lt;LOG&gt;</code> - 日志级别配置
<ul>
<li>格式：<code>模块=级别,模块=级别</code></li>
<li>例如：<code>--log setting=debug,system=info</code></li>
</ul>
</li>
</ul>
<h3 id="强制选项"><a class="header" href="#强制选项">强制选项</a></h3>
<ul>
<li><code>-f, --force &lt;LEVEL&gt;</code> - 强制更新级别
<ul>
<li><code>0</code>: 正常模式（默认）</li>
<li><code>1</code>: 跳过确认</li>
<li><code>2</code>: 覆盖文件</li>
<li><code>3</code>: 强制拉取</li>
</ul>
</li>
</ul>
<h2 id="工程管理命令-gops-prj"><a class="header" href="#工程管理命令-gops-prj">工程管理命令 (gops prj)</a></h2>
<h3 id="创建维护工程"><a class="header" href="#创建维护工程">创建维护工程</a></h3>
<pre><code class="language-bash">gops prj new [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-n, --name &lt;NAME&gt;</code> - 工程配置名称（必填）</li>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>创建指定名称的维护工程</li>
<li>初始化工程目录结构</li>
<li>生成必要的配置文件</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 创建名为 my-project 的工程
gops prj new --name my-project

# 创建工程并启用调试
gops prj new --name my-project --debug 2
</code></pre>
<h3 id="导入系统到工程"><a class="header" href="#导入系统到工程">导入系统到工程</a></h3>
<pre><code class="language-bash">gops prj import [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-p, --path &lt;PATH&gt;</code> - 系统导入路径（必填）</li>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
<li><code>-f, --force &lt;LEVEL&gt;</code> - 强制更新级别</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>从指定路径导入系统配置</li>
<li>将系统集成到当前工程</li>
<li>自动处理系统依赖关系</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 从指定路径导入系统
gops prj import --path /path/to/system

# 详细调试导入过程
gops prj import --path /path/to/system --debug 3
</code></pre>
<h3 id="更新工程"><a class="header" href="#更新工程">更新工程</a></h3>
<pre><code class="language-bash">gops prj update [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
<li><code>-f, --force &lt;LEVEL&gt;</code> - 强制更新级别</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>更新工程中的系统引用</li>
<li>更新模块依赖关系</li>
<li>下载远程资源</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 正常更新工程
gops prj update

# 强制更新（覆盖文件）
gops prj update --force 2

# 详细调试更新过程
gops prj update --debug 3 --log update=debug
</code></pre>
<h3 id="工程设置"><a class="header" href="#工程设置">工程设置</a></h3>
<pre><code class="language-bash">gops prj setting [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-i, --interactive</code> - 启用交互模式（默认：true）</li>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>管理工程级别的变量设置</li>
<li>支持交互式和非交互式配置</li>
<li>自动保存配置到 value.yml 文件</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 基于默认值，生成value.yml
gops prj setting



# 显式启用交互模式
gops prj setting -i

</code></pre>
<h2 id="模块管理命令-gops-mod"><a class="header" href="#模块管理命令-gops-mod">模块管理命令 (gops mod)</a></h2>
<h3 id="创建示例模块结构"><a class="header" href="#创建示例模块结构">创建示例模块结构</a></h3>
<pre><code class="language-bash">gops mod example [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>创建完整的示例模块结构</li>
<li>包含示例配置和工作流</li>
<li>展示模块组织最佳实践</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 创建示例模块
gops mod example

# 创建示例模块并启用调试
gops mod example --debug 2
</code></pre>
<h3 id="定义新模块操作符"><a class="header" href="#定义新模块操作符">定义新模块操作符</a></h3>
<pre><code class="language-bash">gops mod new [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-n, --name &lt;NAME&gt;</code> - 模块名称（必填）
<ul>
<li>支持字母数字、连字符和下划线</li>
</ul>
</li>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>使用给定名称创建新模块规范</li>
<li>初始化模块目录结构</li>
<li>生成所有必要的配置文件</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 创建名为 my-module 的模块
gops mod new --name my-module

# 创建模块并启用调试
gops mod new --name my-module --debug 3
</code></pre>
<h3 id="更新现有模块操作符"><a class="header" href="#更新现有模块操作符">更新现有模块操作符</a></h3>
<pre><code class="language-bash">gops mod update [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
<li><code>-f, --force &lt;LEVEL&gt;</code> - 强制更新级别</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>更新现有模块的配置</li>
<li>更新模块依赖关系或规范</li>
<li>支持强制更新模式</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 正常更新模块
gops mod update

# 强制更新模块
gops mod update --force 1

# 详细调试更新过程
gops mod update --debug 4 --log mod=debug
</code></pre>
<h3 id="本地化模块配置"><a class="header" href="#本地化模块配置">本地化模块配置</a></h3>
<pre><code class="language-bash">gops mod localize [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
<li><code>--value &lt;PATH&gt;</code> - 包含环境特定值的 YAML/JSON 文件路径</li>
<li><code>--default</code> - 使用内置默认值而不是用户提供的 value.yml</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>基于环境特定值生成本地化配置文件</li>
<li>适配不同部署环境的需求</li>
<li>支持自定义值或默认值选择</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 使用默认值本地化
gops mod localize --default

# 使用自定义值文件本地化
gops mod localize --value prod-values.yml

# 使用自定义值文件并启用调试
gops mod localize --value dev-values.yml --debug 2
</code></pre>
<h2 id="系统管理命令-gops-sys"><a class="header" href="#系统管理命令-gops-sys">系统管理命令 (gops sys)</a></h2>
<h3 id="创建新的系统操作符"><a class="header" href="#创建新的系统操作符">创建新的系统操作符</a></h3>
<pre><code class="language-bash">gops sys new [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-n, --name &lt;NAME&gt;</code> - 系统名称（必填）
<ul>
<li>支持字母数字、连字符和下划线</li>
</ul>
</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>创建新的系统规范</li>
<li>初始化系统目录结构</li>
<li>生成所有必要的配置文件和模板</li>
<li>交互式选择系统型号配置（测试环境下自动选择）</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 创建新系统（交互式选择型号）
gops sys new --name my-system

# 在测试环境中创建系统
TEST_MODE=true gops sys new --name test-system
</code></pre>
<h3 id="更新系统配置"><a class="header" href="#更新系统配置">更新系统配置</a></h3>
<pre><code class="language-bash">gops sys update [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
<li><code>-f, --force &lt;LEVEL&gt;</code> - 强制更新级别</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>更新现有系统配置</li>
<li>更新系统规范或依赖关系</li>
<li>支持强制更新以不确认的情况下覆盖配置</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 正常更新系统
gops sys update

# 强制更新系统（跳过确认）
gops sys update --force 1

# 详细调试更新过程
gops sys update --debug 3 --log sys=debug
</code></pre>
<h3 id="为环境本地化系统配置"><a class="header" href="#为环境本地化系统配置">为环境本地化系统配置</a></h3>
<pre><code class="language-bash">gops sys localize [OPTIONS]
</code></pre>
<p><strong>选项：</strong></p>
<ul>
<li><code>-d, --debug &lt;LEVEL&gt;</code> - 调试级别</li>
<li><code>--log &lt;LOG&gt;</code> - 日志配置</li>
<li><code>--value &lt;PATH&gt;</code> - 包含环境特定值的 YAML/JSON 文件路径</li>
<li><code>--default</code> - 使用内置默认值而不是用户提供的 value.yml</li>
</ul>
<p><strong>功能：</strong></p>
<ul>
<li>基于环境特定值生成本地化系统配置文件</li>
<li>适配不同部署环境的系统配置</li>
<li>支持自定义值或默认值选择</li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="language-bash"># 使用默认值本地化系统配置
gops sys localize --default

# 使用自定义值文件本地化
gops sys localize --value prod-config.yml

# 使用自定义值文件并启用调试
gops sys localize --value dev-config.yml --debug 2
</code></pre>
<h2 id="环境变量"><a class="header" href="#环境变量">环境变量</a></h2>
<h3 id="调试环境变量"><a class="header" href="#调试环境变量">调试环境变量</a></h3>
<ul>
<li><code>TEST_MODE</code> - 测试模式设置
<ul>
<li>当设置为任意值时，启用测试环境行为</li>
<li>在 <code>gops sys new</code> 中自动选择系统型号而不是交互式选择</li>
</ul>
</li>
</ul>
<h3 id="模拟环境变量"><a class="header" href="#模拟环境变量">模拟环境变量</a></h3>
<ul>
<li><code>MOCK_SUCCESS</code> - 模拟成功状态
<ul>
<li>用于测试环境中模拟成功的操作</li>
<li>通常与 <code>TEST_MODE</code> 一起使用</li>
</ul>
</li>
</ul>
<h2 id="配置文件结构"><a class="header" href="#配置文件结构">配置文件结构</a></h2>
<h3 id="工程目录结构"><a class="header" href="#工程目录结构">工程目录结构</a></h3>
<pre><code>my-project/
├── ops-prj.yml              # 工程主配置文件
├── values/                  # 配置值目录
│   └── {system-name}/      # 系统特定值
│       └── value.yml       # 系统变量值文件
├── ops-systems.yml          # 系统引用配置
└── {system-name}/          # 系统目录
    ├── sys/                 # 系统配置
    │   ├── sys.yml          # 系统规范
    │   └── vars.yml         # 系统变量定义
    └── values/              # 系统值链接（指向 values/{system-name}/）
</code></pre>
<h3 id="模块目录结构"><a class="header" href="#模块目录结构">模块目录结构</a></h3>
<pre><code>my-module/
├── mod.yml                  # 模块配置文件
├── sys/                     # 系统配置
├── workflow/                # 工作流配置
├── artifacts/               # 构建产物
├── config/                  # 配置文件
└── settings/                # 模块设置
</code></pre>
<h3 id="系统目录结构"><a class="header" href="#系统目录结构">系统目录结构</a></h3>
<pre><code>my-system/
├── sys/                     # 系统配置
│   ├── sys.yml              # 系统规范
│   ├── model.yml            # 系统模型
│   └── vars.yml             # 系统变量定义
├── workflow/                # 工作流配置
├── templates/               # 模板文件
├── examples/                # 示例配置
└── scripts/                 # 脚本文件
</code></pre>
<h2 id="最佳实践"><a class="header" href="#最佳实践">最佳实践</a></h2>
<h3 id="工程管理"><a class="header" href="#工程管理">工程管理</a></h3>
<pre><code class="language-bash"># 1. 创建新工程
gops prj new --name my-project

# 2. 导入系统到工程
gops prj import --path /path/to/system --force 1

# 3. 更新工程
gops prj update

# 4. 配置工程变量（交互模式）
gops prj setting

# 5. 配置工程变量（非交互模式）
gops prj setting --no-interactive
</code></pre>
<h3 id="模块开发"><a class="header" href="#模块开发">模块开发</a></h3>
<pre><code class="language-bash"># 1. 创建示例模块（学习结构）
gops mod example

# 2. 创建新模块
gops mod new --name my-module

# 3. 更新模块
gops mod update --force 2

# 4. 本地化模块配置
gops mod localize --value dev-values.yml
</code></pre>
<h3 id="系统管理"><a class="header" href="#系统管理">系统管理</a></h3>
<pre><code class="language-bash"># 1. 创建新系统
gops sys new --name my-system

# 2. 更新系统
gops sys update --force 1

# 3. 本地化系统配置
gops sys localize --value prod-config.yml
</code></pre>
<h3 id="调试技巧"><a class="header" href="#调试技巧">调试技巧</a></h3>
<pre><code class="language-bash"># 启用详细调试
gops prj import --path /test --debug 4 --log all=debug

# 调试特定模块
gops mod update --debug 3 --log mod=debug

# 调试系统操作
gops sys update --debug 3 --log sys=debug

# 调试设置操作
gops prj setting --debug 2 --log setting=debug
</code></pre>
<h2 id="故障排除"><a class="header" href="#故障排除">故障排除</a></h2>
<h3 id="常见错误及解决方案"><a class="header" href="#常见错误及解决方案">常见错误及解决方案</a></h3>
<p><strong>Q: 工程创建失败</strong></p>
<pre><code>错误：无法创建目录 "my-project"
解决：检查目录权限，或选择不同的名称
</code></pre>
<p><strong>Q: 系统导入失败</strong></p>
<pre><code>错误：load project from ./path fail!
解决：检查路径是否正确，确保有适当的访问权限
gops prj import --path /path/to/system --debug 3
</code></pre>
<p><strong>Q: 模块更新失败</strong></p>
<pre><code>错误：无法加载模块配置
解决：确保在正确的模块目录中执行命令
gops mod update --debug 4 --log mod=debug
</code></pre>
<p><strong>Q: 系统创建卡在选择界面</strong></p>
<pre><code>解决：在测试环境中设置 TEST_MODE 环境变量
TEST_MODE=true gops sys new --name test-system
</code></pre>
<p><strong>Q: 设置命令在非交互模式下失败</strong></p>
<pre><code>解决：确保 value.yml 文件存在且格式正确
gops prj setting --no-interactive --debug 2
</code></pre>
<h3 id="调试模式使用"><a class="header" href="#调试模式使用">调试模式使用</a></h3>
<pre><code class="language-bash"># 基础调试
gops prj import --path /test --debug 1

# 详细调试
gops mod update --debug 2 --log mod=debug

# 跟踪级别调试
gops sys update --debug 3 --log sys=trace

# 完整调试
gops prj setting --debug 4 --log all=debug
</code></pre>
<h3 id="日志配置示例"><a class="header" href="#日志配置示例">日志配置示例</a></h3>
<pre><code class="language-bash"># 调试特定模块
gops mod update --log mod=debug

# 调试多个模块
gops sys update --log sys=debug,net=info

# 设置不同级别
gops prj import --log import=debug,system=info,net=trace

# 调试所有内容
gops mod update --log all=debug
</code></pre>
<h2 id="测试"><a class="header" href="#测试">测试</a></h2>
<p>项目包含完整的测试套件：</p>
<pre><code class="language-bash"># 运行所有测试
cargo test

# 运行特定测试
cargo test test_gxops_run_success

# 运行测试并显示输出
cargo test -- --nocapture

# 在测试环境中运行
TEST_MODE=true cargo test

# 运行特定命令的测试
cargo test test_ia_setting_interactive
cargo test test_ia_setting_non_interactive
</code></pre>
<h2 id="示例工作流"><a class="header" href="#示例工作流">示例工作流</a></h2>
<h3 id="开发环境设置"><a class="header" href="#开发环境设置">开发环境设置</a></h3>
<pre><code class="language-bash"># 1. 创建开发工程
gops prj new --name dev-project

# 2. 导入开发系统
gops prj import --path /path/to/dev-system --force 1

# 3. 更新工程依赖
gops prj update --debug 2

# 4. 配置开发变量（非交互模式）
gops prj setting --no-interactive

# 5. 创建开发模块
gops mod new --name dev-module

# 6. 本地化模块配置
gops mod localize --value dev-values.yml
</code></pre>
<h3 id="生产环境部署"><a class="header" href="#生产环境部署">生产环境部署</a></h3>
<pre><code class="language-bash"># 1. 创建生产工程
gops prj new --name prod-project

# 2. 导入生产系统
gops prj import --path /path/to/prod-system --force 3

# 3. 配置生产变量（使用默认值）
gops prj setting --no-interactive

# 4. 本地化生产配置
gops sys localize --value prod-config.yml --default
</code></pre>
<h2 id="版本信息"><a class="header" href="#版本信息">版本信息</a></h2>
<p>当前版本：<code>0.12.0</code></p>
<h2 id="功能状态"><a class="header" href="#功能状态">功能状态</a></h2>
<div class="table-wrapper"><table><thead><tr><th>命令</th><th>子命令</th><th>状态</th><th>说明</th></tr></thead><tbody>
<tr><td><code>gops prj</code></td><td><code>new</code></td><td>✅ 完成</td><td>创建维护工程</td></tr>
<tr><td><code>gops prj</code></td><td><code>import</code></td><td>✅ 完成</td><td>导入系统到工程</td></tr>
<tr><td><code>gops prj</code></td><td><code>update</code></td><td>✅ 完成</td><td>更新工程</td></tr>
<tr><td><code>gops prj</code></td><td><code>setting</code></td><td>✅ 完成</td><td>工程设置（支持交互/非交互模式）</td></tr>
<tr><td><code>gops mod</code></td><td><code>example</code></td><td>✅ 完成</td><td>创建示例模块结构</td></tr>
<tr><td><code>gops mod</code></td><td><code>new</code></td><td>✅ 完成</td><td>定义新模块操作符</td></tr>
<tr><td><code>gops mod</code></td><td><code>update</code></td><td>✅ 完成</td><td>更新现有模块操作符</td></tr>
<tr><td><code>gops mod</code></td><td><code>localize</code></td><td>✅ 完成</td><td>本地化模块配置</td></tr>
<tr><td><code>gops sys</code></td><td><code>new</code></td><td>✅ 完成</td><td>创建新的系统操作符</td></tr>
<tr><td><code>gops sys</code></td><td><code>update</code></td><td>✅ 完成</td><td>更新系统配置</td></tr>
<tr><td><code>gops sys</code></td><td><code>localize</code></td><td>✅ 完成</td><td>为环境本地化系统配置</td></tr>
</tbody></table>
</div>
<h2 id="许可证"><a class="header" href="#许可证">许可证</a></h2>
<p>本项目采用 MIT 许可证 - 详见项目根目录的 LICENSE 文件</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../cmd/gmod.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../cmd/gprj.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../cmd/gmod.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../cmd/gprj.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src=".././mermaid.min.js"></script>



    </div>
    </body>
</html>
